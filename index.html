<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>환율 정보</title>
</head>
<body>
  <h1>환율 정보</h1>
  <form action="/" method="post">
    <input type="text" name="baseCurrency" placeholder="기본 통화">
    <input type="text" name="targetCurrency" placeholder="대상 통화">
    <input type="submit" value="환율 조회">
  </form>
  <div id="exchangeRate"></div>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script>
    $(function() {
      // 환율 정보를 조회하는 함수
      function getExchangeRate() {
        // 기본 통화와 대상 통화를 가져옵니다.
        const baseCurrency = $("#baseCurrency").val();
        const targetCurrency = $("#targetCurrency").val();

        // API를 호출합니다.
        $.ajax({
          url: "https://api.exchangerate-api.com/latest",
          method: "GET",
          data: {
            base: baseCurrency,
            symbols: targetCurrency,
          },
          success: function(data) {
            // 환율 정보를 표시합니다.
            $("#exchangeRate").text(
              `${baseCurrency} / ${targetCurrency} = ${data.rates[targetCurrency]}`
            );
          },
          error: function() {
            // 오류 메시지를 표시합니다.
            $("#exchangeRate").text("환율 정보를 가져올 수 없습니다.");
          },
        });
      }

      // 환율 정보를 조회하는 버튼을 클릭하면 함수를 호출합니다.
      $("#exchangeRate").click(getExchangeRate);
    });
  </script>
</body>
</html>
